!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="a5387a58-5775-401f-95c0-6ac2364a5c2c",e._sentryDebugIdIdentifier="sentry-dbid-a5387a58-5775-401f-95c0-6ac2364a5c2c")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{82181:function(e,a,n){Promise.resolve().then(n.bind(n,99049)),Promise.resolve().then(n.t.bind(n,38173,23))},99049:function(e,a,n){"use strict";n.d(a,{AppointmentForm:function(){return b}});var t=n(57437),s=n(31014),i=n(66648),c=n(16463),r=n(2265),l=n(39343),o=n(46294),d=n(83146);n(74590);var m=n(58064);(0,m.$)("5002ee9bf06f8b74830ca1a2538ba786e29df13e");var u=(0,m.$)("24b94d12c6d1760f36cacfb8ad963e6972fdc48d");(0,m.$)("82bd8ac2110d6fcd8456524666e78968740c3d36"),(0,m.$)("7b7506952fd6b77c69048f85701cfed171e6e91a");var p=(0,m.$)("0112ed26ec4eb5adf1766e65f2c14ef335780f9e"),f=n(88650);n(54575);var h=n(36678),g=n(14958),y=n(32653);let b=e=>{let a,{userId:n,patientId:m,type:b="create",appointment:v,setOpen:x}=e,w=(0,c.useRouter)(),[C,E]=(0,r.useState)(!1),D=(0,f.Xn)(b),N=(0,l.cI)({resolver:(0,s.F)(D),defaultValues:{primaryPhysician:v?null==v?void 0:v.primaryPhysician:"",schedule:new Date(v?null==v?void 0:v.schedule:Date.now()),reason:v?v.reason:"",note:(null==v?void 0:v.note)||"",cancellationReason:(null==v?void 0:v.cancellationReason)||""}}),j=async e=>{let a;switch(E(!0),b){case"schedule":a="scheduled";break;case"cancel":a="cancelled";break;default:a="pending"}try{if("create"===b&&m){let t={userId:n,patient:m,primaryPhysician:e.primaryPhysician,schedule:new Date(e.schedule),reason:e.reason,status:a,note:e.note},s=await u(t);s&&(N.reset(),w.push("/patients/".concat(n,"/new-appointment/success?appointmentId=").concat(s.$id)))}else{let t={userId:n,appointmentId:null==v?void 0:v.$id,appointment:{primaryPhysician:e.primaryPhysician,schedule:new Date(e.schedule),status:a,cancellationReason:e.cancellationReason},type:b};await p(t)&&(x&&x(!1),N.reset())}}catch(e){console.log(e)}E(!1)};switch(b){case"cancel":a="Cancel Appointment";break;case"schedule":a="Schedule Appointment";break;default:a="Submit Apppointment"}return(0,t.jsx)(y.l0,{...N,children:(0,t.jsxs)("form",{onSubmit:N.handleSubmit(j),className:"flex-1 space-y-6",children:["create"===b&&(0,t.jsxs)("section",{className:"mb-12 space-y-4",children:[(0,t.jsx)("h1",{className:"header",children:"New Appointment"}),(0,t.jsx)("p",{className:"text-dark-700",children:"Request a new appointment in 10 seconds."})]}),"cancel"!==b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z,{fieldType:h.E.SELECT,control:N.control,name:"primaryPhysician",label:"Doctor",placeholder:"Select a doctor",children:d.VV.map((e,a)=>(0,t.jsx)(o.Ql,{value:e.name,children:(0,t.jsxs)("div",{className:"flex cursor-pointer items-center gap-2",children:[(0,t.jsx)(i.default,{src:e.image,width:32,height:32,alt:"doctor",className:"rounded-full border border-dark-500"}),(0,t.jsx)("p",{children:e.name})]})},e.name+a))}),(0,t.jsx)(h.Z,{fieldType:h.E.DATE_PICKER,control:N.control,name:"schedule",label:"Expected appointment date",showTimeSelect:!0,dateFormat:"MM/dd/yyyy  -  h:mm aa"}),(0,t.jsxs)("div",{className:"flex flex-col gap-6  ".concat("create"===b&&"xl:flex-row"),children:[(0,t.jsx)(h.Z,{fieldType:h.E.TEXTAREA,control:N.control,name:"reason",label:"Appointment reason",placeholder:"Annual montly check-up",disabled:"schedule"===b}),(0,t.jsx)(h.Z,{fieldType:h.E.TEXTAREA,control:N.control,name:"note",label:"Comments/notes",placeholder:"Prefer afternoon appointments, if possible",disabled:"schedule"===b})]})]}),"cancel"===b&&(0,t.jsx)(h.Z,{fieldType:h.E.TEXTAREA,control:N.control,name:"cancellationReason",label:"Reason for cancellation",placeholder:"Urgent meeting came up"}),(0,t.jsx)(g.Z,{isLoading:C,className:"".concat("cancel"===b?"shad-danger-btn":"shad-primary-btn"," w-full"),children:a})]})})}},83146:function(e,a,n){"use strict";n.d(a,{Hg:function(){return s},Jj:function(){return r},VV:function(){return c},pc:function(){return i},zC:function(){return t}});let t=["Male","Female","Other"],s={firstName:"",lastName:"",email:"",phone:"",birthDate:new Date(Date.now()),gender:"Male",address:"",occupation:"",emergencyContactName:"",emergencyContactNumber:"",primaryPhysician:"",insuranceProvider:"",insurancePolicyNumber:"",allergies:"",currentMedication:"",familyMedicalHistory:"",pastMedicalHistory:"",identificationType:"Birth Certificate",identificationNumber:"",identificationDocument:[],treatmentConsent:!1,disclosureConsent:!1,privacyConsent:!1},i=["Birth Certificate","Driver's License","Medical Insurance Card/Policy","Military ID Card","National Identity Card","Passport","Resident Alien Card (Green Card)","Social Security Card","State ID Card","Student ID Card","Voter ID Card"],c=[{image:"/assets/images/dr-green.png",name:"John Green"},{image:"/assets/images/dr-cameron.png",name:"Leila Cameron"},{image:"/assets/images/dr-livingston.png",name:"David Livingston"},{image:"/assets/images/dr-peter.png",name:"Evan Peter"},{image:"/assets/images/dr-powell.png",name:"Jane Powell"},{image:"/assets/images/dr-remirez.png",name:"Alex Ramirez"},{image:"/assets/images/dr-lee.png",name:"Jasmine Lee"},{image:"/assets/images/dr-cruz.png",name:"Alyana Cruz"},{image:"/assets/images/dr-sharma.png",name:"Hardik Sharma"}],r={scheduled:"/assets/icons/check.svg",pending:"/assets/icons/pending.svg",cancelled:"/assets/icons/cancelled.svg"}},54575:function(){}},function(e){e.O(0,[149,173,190,908,916,971,440,744],function(){return e(e.s=82181)}),_N_E=e.O()}]);